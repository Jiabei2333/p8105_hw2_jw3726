---
title: "p8105_hw2_jw3726"
author: "Jiabei Wang"
date: "2018年9月29日"
output: html_document
---

```{r setup, include=FALSE}
library(tidyverse)
library(readxl)
NYCTransit_data = read_csv(file = "./NYC_Transit_Subway_Entrance_And_Exit_Data (1).csv")  %>%
janitor::clean_names() %>%
select(line,station_name,station_latitude,station_longitude,route1:route11,entry,vending,entrance_type,ada,ada_notes) %>%
mutate(entry = recode(entry, "YES" = TRUE,"NO" = FALSE ))
##the dataset now contains variables retain line, station name, station latitude,station longitude, routes served, entry, vending, entrance type, and ADA compliance. (not finish)

library(dplyr)
distinct_station = distinct(NYCTransit_data,station_name,route1,.keep_all = TRUE) 
##there are 450 distinct stations

filter(distinct_station, ada == TRUE)
##there are 128 stations that are ada compliant 

vending_not_allow_entrance = filter(distinct_station, vending == "NO")
nrow(vending_not_allow_entrance)/nrow(distinct_station)
##The proportion is 0.02

tidy_transit_data = gather(distinct_station,key = route_number, value = route_name, route1:route11) 
distinct_serve_A = filter(tidy_transit_data, route_name == "A")
##there are 56 distinct stations serve A train. 

ADA_compliant = filter(distinct_serve_A, ada == TRUE) 
##there are 15 ADA compliant
```

